
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vighnaharta Dental Lab</title>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script> -->

    <link rel="icon" type="image/x-icon" href="assets/img1.jpg">
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,100..900;1,100..900&family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap" rel="stylesheet">


    <style>
      
          .DentalHead{
            font-size:24px;
            font-family:"poppins";
            font-weight: bold;
        }
        p, label{
            font-family: 'poppins';
            font-size:16px;
            margin: 0;
        }
        .invoice{
            font-weight:bold;
            font-size: 22px;
        }
        table {
            width: 50%;
            border-collapse: collapse;
        }
        th, td {
            border: 1px solid black;
            padding: 12px 5px!important;
            text-align: center;
            font-family: 'poppins';
            vertical-align: middle;

        }
        th {
            background-color: #f2f2f2;
        }
      
       @media screen and (max-width: 500px) {
    .printPart {
        display: none; /* मोबाईलसाठी लपवा */
    }
}

.teeth-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            grid-template-rows: 1fr 1fr;
            width:100%;
            height: 60px;
            position: relative;
            margin: auto;
        }
        .teeth-grid div {
            border: 1px solid black;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 14px;
            min-height: 20px;
        }
        /* .teeth-plus::before,
        .teeth-plus::after {
            content: "";
            position: absolute;
            background-color: black;
        } */
        /* .teeth-plus::before {
            width: 80%;
            height: 2px;
            top: 50%;
            left: 10%;
        }
        .teeth-plus::after {
            height: 80%;
            width: 2px;
            left: 50%;
            top: 10%;
        } */
    </style>
</head>
<body>

<div class="container mt-5">
   
    <h4 class="text-center " style="font-family: 'poppins';font-weight: bold;">Vighnaharta Dental Lab</h4>
    <div class="d-flex justify-content-end">  <button style="font-family: poppins;" class="btn btn-primary  mt-3" onclick="generate()">Generate PDF</button></div>
   

    <form action="javascript:void(0);">


          <div class="row">

         

          <div class="mb-3">
            <label> Client Name</label>
            <input type="text" class="form-control" id="clientnm" placeholder="M/s">
          </div>

          <div class="mb-3">
            <label>Mobile No</label>
            <input type="number"  class="form-control"  id="mobileno" placeholder="Enter Mobile No">
          </div>

         
          <div class="mb-3">
            <label> Address</label>
            <textarea  class="form-control" id="address" placeholder="Enter Doctor Address"></textarea>
          </div>

          <div class="mb-3 col-6">
            <label>No</label>
            <input type="number"  class="form-control" id="No" placeholder="Enter No">

          </div>

          <div class="mb-3 col-6">
            <label>Bill Date </label>
                   <input type="date" class="form-control" id="BillPeriod">

          </div>



          <hr>

          <h4 style="font-family:poppins;font-weight:bold" class="text-center">Patient Info</h4>

          <div class="mb-3 col-12">
            <label>Region Description</label>
            <textarea  class="form-control" id="RegionDescription" placeholder="Enter Region Description"></textarea>
          </div>

          <div class="mb-3 col-6">
            <label>Teeth No</label>
                   <input type="number" class="form-control" id="TeethNo">

          </div>

          <div class="mb-3 col-6">
            <label>Teeth Side</label>
                 <select  id="teethSide" class="form-control">
                    <option value="0">Select</option>
                    <option value="1">Upper Left</option>
                    <option value="2">Upper Right</option>

                    <option value="3">Lower Left</option>
                    <option value="4">Lower Right</option>
                 </select>


          </div>

          <div class="mb-3 col-6">
            <label>Qty</label>
            <input type="number" class="form-control" id="qty">

          </div>

          <div class="mb-3 col-6">
            <label>Rate </label>
                   <input type="number" class="form-control" id="Rate">

          </div>

         
        </div>
    </form>


    <div class="col-12">
        <button type="button" id="btn_addtolist" class="btn btn-primary" style="font-family: poppins;">Add To  list</button>
    </div>






    <div class="printPart   pt-0  pb-3 col-11    mt-3" id="PrintPreview" style="border: 2px solid;margin-left: 4%;">
          
        <div class=" text-center px-2" style="    margin: 0 auto;width:29%;border-bottom: 2px solid;border-right: 2px solid;border-left: 2px solid;"><p class="mb-0">Cash/ Credit Memo</p></div>


    <div class="d-flex justify-content-between align-items-center mb-3 px-3">
        <div style="margin-left: 5%;">
            <img src="assets/img1.jpg" alt="Sample Image" height="80" width=" 80" style="border-radius:50%">


        </div>
        <div class="">
           <h5 class="DentalHead">Vighnaharta Dental Lab</h5>

        </div>
        <div style="visibility: hidden;">dfdfdfdfdfdfdfdfd</div>
    </div>


    <div class="col-12 text-center">
         <p>(Ceramic, White Metal, Acrylic, Flexible Denture, CPD) <br>
            GANESH JAGTAP (Dental Technician) <br>
            Mob. 9767 161800</p>
    </div>

    <div class="col-12 mt-4 px-3" style="    border-top: 2px solid;
    border-bottom: 1px solid;">
        <div class="row" >
            <div class="col-9" style="border-right: 2px solid;">


                <div class="row mb-1">
                    <div style="width:22%"><p><b>M/s </b></p></div>
                    <div  style="width:1%"><p>:</p></div>
                    <div class="col-6"><p><span id="clientname"></span></p></div>
                 </div>
    
    
                 <div class="row mb-1">
                    <div style="width:22%"><p><b>Address </b></p></div>
                    <div  style="width:1%"><p>:</p></div>
                    <div class="col-6"><p><span id="showaddress"></span></p></div>
                 </div>
    
                 <div class="row mb-1">
                    <div class="" style="width:22%"><p><b>Mobile No </b></p></div>
                    <div  style="width:1%"><p>:</p></div>
                    <div class="col-6"><P><span id="showmobileno"></span></P></div>
                 </div>


                
            </div>

         


          
            <div class="col-3">

                <div class="row mb-1 mt-2" style="height: 30px;">
                    <div style="width:24%"><p><b>No </b></p></div>
                    <div style="width:1%"><p>:</p></div>
                    <div class="col-6"  style="padding-left:5px!important"><p><span id="showNo"></span></p></div>
                 </div>


                 <div class="row mb-1">
                    <div style="width:24%"><p><b>Date </b></p></div>
                    <div class="" style="width:1%"><p>:</p></div>
                    <div class="col-6" style="padding-left:5px!important"><p><span id="showBillDate"></span></p></div>
                 </div>


                </div>

            </div>
        </div>
    

<div class="col-12">

    <table class="table" style="border-top: none;">
        <thead>

        <tr>
            <th style="width: 3%;border-left:none;border-top: none;" >sr No</th>
            <th style="width: 25%;border-top: none;">Description</th>
            <th style="width: 3%;border-top: none;">Qty</th>
            <th style="width: 3%;border-top: none;">Rate</th>
            <th style="width: 5%;border-right:none;border-top: none;">Amount</th>

        </tr>
    </thead>

    <tbody id="UnitTable">

    </tbody>

       
      <tfoot>
        <tr>
            <td style="border-left:none;"></td>
            <td></td>
            <td></td>
            <td>Total</td>
            <td style="border-right:none"><p id="TotalAmt" style="font-weight:bold;font-size:18px"></p></td>

        </tr>
      </tfoot>
    </table>
</div>


<div class="col-12 mt-4  px-4">
    <div class="row">
        <div class="col-7" >
            <p><b>Rs. In Word  &nbsp;&nbsp; :</b>  <span id="NumberInWord"></span></p>
        </div>
        <div class="col-5 text-end">

            
            <p><b>For Vighnaharta Dental Lab</b></p>
            



        </div>
    </div>
</div>





       
    </div>
</div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>


<script type="text/javascript">

document.getElementById('mobileno').addEventListener('input', function (e) {
  e.target.value = e.target.value.replace(/[^0-9]/g, '').slice(0, 10);
});

document.getElementById('BillPeriod').valueAsDate = new Date();



    var a = false;
    var i = 0;
    var sr = 1;

    var chkRemoveItem = 0;
    $(document).ready(function() {
    
       
        $("#btn_addtolist").click(function() {
            if (a == false) {
            
                
                var teethSide = parseInt($("#teethSide").val()) || 0;
            var TeethNo = $("#TeethNo").val();
            var RegionDescription = $("#RegionDescription").val();
            var Rate = parseFloat($("#Rate").val()) || 0;
            var qty = parseFloat($("#qty").val()) || 0;
            var Amount = Rate * qty;

            var td1 = "", td2 = "", td3 = "", td4 = "";
            if (teethSide == 1) { td1 = TeethNo; }
            else if (teethSide == 2) { td2 = TeethNo; }
            else if (teethSide == 3) { td3 = TeethNo; }
            else if (teethSide == 4) { td4 = TeethNo; }

            
    

                    var objTo = document.getElementById('UnitTable');
                    var divtest = document.createElement("tr");
                    divtest.setAttribute("class", "removeclass" + i);
                    var objTo = document.getElementById('UnitTable');
                    var divtest = document.createElement("tr");
                    divtest.setAttribute("class", "removeclass" + i);
                    divtest.innerHTML =
                    `
                <tr>
                    <td style="border-left:none;">${sr}</td>
                    <td style="padding:0px 0px!important;">
                       <div class="py-2" style="text-align-left;font-weight:bold"> <p>   ${RegionDescription}</p></div>
                        <div class="teeth-grid teeth-plus">
                            <div style="border-left:none;">${td1 || '-'}</div>
                            <div style="border-right:none;">${td2 || '-'}</div>
                            <div style="border-top:none;border-bottom:none;border-left:none">${td3 || '-'}</div>
                            <div style="border-top:none;border-bottom:none;border-right:none">${td4 || '-'}</div>
                        </div>
                    </td>
                    <td>${qty}</td>
                    <td>${Rate}</td>
                    <td style="border-right:none;"> <input type="hidden"  id="Amount${i}"  class=" Amount  form-control " value="${Amount}"> ${Amount}</td>
                </tr>`;

    
                    objTo.appendChild(divtest);
                    i++;
                    sr++;

    
    
                    clearData();
                    finalCalculation();
    
    
    
            }
        });
    
    
       
    
    });
    
    function clearData() {
    
       
        $("#Srno,#RegionDescription,#qty,#Rate,#Amount,#TeethNo").val('');
        $('#teethSide').val('right').trigger('change'); 
       

      

    
    }
    
    function remove_item_details(i) {
        $('.removeclass' + i).remove();
        chkRemoveItem = 1;
        finalCalculation();
    
    
    }
    
    
    function finalCalculation() {
        // ************************ Sum of charges  *****************
    
        var Amount = document.getElementsByClassName("Amount");
    
        var TotalAmount = 0;
        for (var p = 0; p < Amount.length; p++) {
    
            TotalAmount = parseInt(Amount[p].value) + parseInt(TotalAmount)||0;
    
        }
        console.log("total Amount", TotalAmount);
        document.getElementById("TotalAmt").innerHTML = TotalAmount.toFixed(2);
        
       


        function numberToWordsIndian(num) {
    if (num === 0) return "Zero";

    const belowTwenty = ["", "One", "Two", "Three", "Four", "Five", "Six", "Seven", "Eight", "Nine", "Ten", "Eleven", "Twelve", "Thirteen", "Fourteen", "Fifteen", "Sixteen", "Seventeen", "Eighteen", "Nineteen"];
    const tens = ["", "", "Twenty", "Thirty", "Forty", "Fifty", "Sixty", "Seventy", "Eighty", "Ninety"];
    const units = ["", "Thousand", "Lakh", "Crore"];

    function convertLessThanThousand(n) {
        let str = "";
        if (n >= 100) {
            str += belowTwenty[Math.floor(n / 100)] + " Hundred ";
            n %= 100;
        }
        if (n >= 20) {
            str += tens[Math.floor(n / 10)] + " ";
            n %= 10;
        }
        if (n > 0) {
            str += belowTwenty[n] + " ";
        }
        return str.trim();
    }

    let words = "";
    let unitIndex = 0;

    while (num > 0) {
        let part = num % (unitIndex === 1 ? 100 : 1000); // हजारानंतर 100 चा गट (लाख, कोटी)
        if (part > 0) {
            words = convertLessThanThousand(part) + (unitIndex > 0 ? " " + units[unitIndex] + " " : "") + words;
        }
        num = Math.floor(num / (unitIndex === 1 ? 100 : 1000));
        unitIndex++;
    }

    return words.trim();
}

console.log(numberToWordsIndian(TotalAmount)); // Output: "One Crore Twenty Three Lakh Forty Five Thousand Six Hundred Seventy Eight"
document.getElementById("NumberInWord").innerHTML = numberToWordsIndian(TotalAmount);



    }
    
    
    </script>
    









<script>


function generate() {
    const ele = document.getElementById('PrintPreview');

   
    ele.style.display = 'block';

    let clientName = document.getElementById("clientnm").value;
    let mobileno = document.getElementById("mobileno").value;
    let address = document.getElementById("address").value;
    let No = document.getElementById("No").value;
    let BillPeriod = document.getElementById("BillPeriod").value;

    let date = new Date(BillPeriod);
   

    let formattedDate = date.getDate().toString().padStart(2, '0') + "/" + 
                        (date.getMonth() + 1).toString().padStart(2, '0') + "/" + 
                        date.getFullYear();


    document.getElementById("clientname").textContent = clientName;
    document.getElementById("showmobileno").textContent = mobileno;
    document.getElementById("showaddress").textContent = address;
    document.getElementById("showNo").textContent = No;
    document.getElementById("showBillDate").textContent = formattedDate;
   

    setTimeout(function() {
        var opt = {
            margin: 0,
            backgroundColor: "#ffffff",
            filename: 'Vighnaharta Dental Lab.pdf',
            image: { type: 'jpeg', quality: 0.98 },
            html2canvas: { scale: 2 },
            jsPDF: { unit: 'in', format: 'A4', orientation: 'portrait' }
        };

        html2pdf().set(opt).from(ele).save().then(() => {
            if (window.innerWidth <= 500) {
                ele.style.display = 'none';
            }

            // PDF डाउनलोड झाल्यावर पेज रीफ्रेश करा
            setTimeout(() => {
                window.location.reload();
            }, 1000);
        });

    }, 500);
}


</script>

</body>
</html>